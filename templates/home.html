<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="{{url_for('static', filename='jquery.js') }}">\x3C/script>')</script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.6/Chart.bundle.min.js"></script>
    <!-- <script type="text/javascript" src="{{ url_for('static', filename='function.js') }}"></script> -->
    <!-- <script type="text/javascript" src="/static/function.js"></script> -->
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">
    <!-- <script type="text/javascript" src="{{ url_for('static', filename='function.js') }}"></script> -->
    <script type="text/javascript">
    var interval = setInterval(update_values, 1500);
    var c = 0;
    var temp = 0;

    function removeData(chart) {
      chart.data.labels.splice(0, 1);
      chart.data.datasets.forEach((dataset) => {
      dataset.data.splice(0, 1);
    });
    chart.update();
    }

    function update_values() {
      $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
      $.getJSON($SCRIPT_ROOT + '/_stuff',

      function(data){
        $("#result").text(data.result);
        temp = data.result;
        console.log(data);
      });

      c=c+1;
      console.log(c);
      console.log(temp);
      myChart.data.labels.push(c);
      myChart.data.datasets.forEach((dataset) => {
        dataset.data.push(temp);
      });
      myChart.update();
      if (c >20) removeData(myChart);
    }

    </script>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body onload="update_values();">

    <!-- <div style="height: 200px; width: 50%;  margin: 25px 50px 75px 100px;"> -->


  </div>
  <div class="grid-container">
    <div class="plot">
      <canvas id="myChart"></canvas>
      <script type="text/javascript" src="{{ url_for('static', filename='plot.js') }}"></script>
    </div>
    <div class="option1">
      Hello there!!
      <span id="result">?</span>
      <script>document.getElementById('result').innerHTML; </script>
    </div>
  </div>
    <!-- <script type="text/javascript" src="/static/plot.js"></script> -->

  </body>
</html>
